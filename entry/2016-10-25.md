---
title: edコマンド世界ではwqは1文字?
tags: [ed]
---

# 謎

ちょっとedを実装してたら謎を見つけました

[GNU 'ed' Manual](https://www.gnu.org/software/ed/manual/ed_manual.html#Commands)
より引用.

>All ed commands are single characters

>全てのedのコマンドは1文字です

>(1,$)wq file
>Writes the addressed lines to file, and then executes a 'q' command.

>(1,$)wq file
>ファイルに指定した行を書き出し, 'q' コマンドを実行する

`wq`は1文字だった…?そんなことはないと思うんだがなあ.

# 追記

<blockquote class="twitter-tweet" data-lang="ja"><p lang="ja" dir="ltr">(.)klcがそのまま小文字受け取るから実用上困るんだよなあ…wqだけ特別扱いすることで対処したけど</p>&mdash; エヌユル (@ncaq) <a href="https://twitter.com/ncaq/status/790785940146966528">2016年10月25日</a></blockquote>

<blockquote class="twitter-tweet" data-lang="ja"><p lang="ja" dir="ltr">w コマンドと q コマンドを連続して書いてるだけなんじゃないのかな <a href="https://t.co/5Bnvd4omyt">https://t.co/5Bnvd4omyt</a></p>&mdash; 齊藤敦志 (@SaitoAtsushi) <a href="https://twitter.com/SaitoAtsushi/status/790782982738948097">2016年10月25日</a></blockquote>

<blockquote class="twitter-tweet" data-conversation="none" data-lang="ja"><p lang="ja" dir="ltr">.<a href="https://twitter.com/SaitoAtsushi">@SaitoAtsushi</a> 確かにソースコード読んでもそんな感じなんですけど,waとかwcは通らないのでなんか釈然としない…</p>&mdash; エヌユル (@ncaq) <a href="https://twitter.com/ncaq/status/790787788790571008">2016年10月25日</a></blockquote>

<blockquote class="twitter-tweet" data-lang="ja"><p lang="ja" dir="ltr">実装を読んで見ればまあ動いてる原理はわかるんだけど,wqが特別に通るのがなんか納得いかねえ…</p>&mdash; エヌユル (@ncaq) <a href="https://twitter.com/ncaq/status/790789700772507648">2016年10月25日</a></blockquote>
