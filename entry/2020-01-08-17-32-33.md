---
title: sbtにプロジェクトを移したらアプリケーションがOutOfMemoryErrorを吐くようになった時の対処法
---

# 問題

~~~
OutOfMemoryError: Java heap space
~~~

でこれまでgradleなどで動いていたアプリケーションが死ぬ.

# 原因

sbtはデフォルトではsbtと同じJVMでアプリケーションを動かそうとします.
sbt自身にはメモリを使いすぎないようにリミッターがかかっているので死にます.

# 解決策

[sbt Reference Manual — Forking](https://www.scala-sbt.org/1.x/docs/Forking.html)

にあるようにフォークしてsbtと違うJVMをアプリケーションの実行に使ってもらいます.
自分の場合は単に

~~~scala
fork := true
~~~

しました.
